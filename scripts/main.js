"use strict";$(document).ready(function(){function a(){window.addEventListener("scroll",function(a){r||(r=!0,setTimeout(t,250))},!1)}function t(){var a=e();a>=l?$(s).addClass("shrink"):$(s).removeClass("shrink"),r=!1}function e(){return window.pageYOffset||i.scrollTop}var n=!1,o=$(".main-mobile-menu");$(".scroll-btn").click(function(){return $("html, body").animate({scrollTop:$(".taxi-hero").height()+120},"slow"),!1}),$("#owl-blog").owlCarousel({navigation:!0,slideSpeed:300,paginationSpeed:400,pagination:!1,singleItem:!0,navigationText:["",""]}),$("img, a").on("dragstart",function(a){a.preventDefault()}),$(".taxi-header--burger").click(function(){o.addClass("open"),n=!0}),$(".mobile-menu-close").click(function(){o.removeClass("open"),n=!1}),$("#telnum").mask("+99999999?9999999");var i=document.documentElement,s=document.querySelector("header.taxi-header"),r=!1,l=70;a(),$(".taxi-hero--btn, .taxi-pricing--btn").magnificPopup({type:"inline",fixedContentPos:!1,fixedBgPos:!0,overflowY:"auto",closeBtnInside:!0,preloader:!1,midClick:!0,removalDelay:300,showCloseBtn:!1,mainClass:"my-mfp-slide-bottom"}),$(".taxi-clients").magnificPopup({type:"inline",fixedContentPos:!1,fixedBgPos:!0,overflowY:"auto",closeBtnInside:!0,preloader:!1,midClick:!0,removalDelay:300,showCloseBtn:!1,mainClass:"my-mfp-slide-bottom"}),$(".taxi-header--btn").magnificPopup({type:"inline",fixedContentPos:!1,fixedBgPos:!0,overflowY:"auto",closeBtnInside:!0,preloader:!1,midClick:!0,removalDelay:300,showCloseBtn:!1,mainClass:"my-mfp-slide-bottom",callbacks:{beforeOpen:function(){console.log(n),n&&o.removeClass("open")}}}),$(".screen-thumbs").magnificPopup({type:"image",closeOnContentClick:!0,mainClass:"mfp-img-mobile",image:{verticalFit:!0}}),$(".closeBtn").click(function(){$.magnificPopup.close()}),$(".taxi-about--clients").waypoint(function(){$(".taxi-about--clients").addClass("on")},{offset:"70%"}),$(".taxi-about--drivers").waypoint(function(){$(".taxi-about--android").addClass("on"),$(".taxi-about--drivers").addClass("on")},{offset:"70%"}),$(".bottom-screen-wrap").waypoint(function(){$(".taxi-about--dapp").addClass("on")},{offset:"50%"}),$(".taxi-admin--operators").waypoint(function(){$(".taxi-admin--operators").addClass("on"),setTimeout(function(){$(".taxi-about--dapp").addClass("on")},1e3),$(".taxi-admin--operators-thumbs a").each(function(a){var t=$(this);setInterval(function(){t.addClass("on")},200*a)})},{offset:"50%"}),$(".taxi-admin--managers").waypoint(function(){$(".taxi-admin--managers").addClass("on"),$("svg#svggraph").addClass("grown"),$(".taxi-download").addClass("on")},{offset:"50%"}),$(".taxi-indicators").waypoint(function(){$(".taxi-indicators--label-bg").addClass("on"),$(".taxi-indicators--label-sm").addClass("on"),$(".indicator").each(function(a){var t=$(this);setInterval(function(){t.addClass("on")},200*a)})},{offset:"50%"}),$(".taxi-knowh").waypoint(function(){$(".taxi-knowh--label").addClass("on"),$(".taxi-kn").each(function(a){var t=$(this);setInterval(function(){t.addClass("on")},200*a)})},{offset:"50%"}),$(".taxi-cooperation").waypoint(function(){$(".taxi-cooperation--title").addClass("on"),$(".taxi-cooperation--l").addClass("on"),$(".taxi-cooperation--r").addClass("on")},{offset:"50%"}),$(".taxi-pricing").waypoint(function(){$(".taxi-pricing--title").addClass("on"),$(".taxi-pricing--desc").addClass("on"),$(".taxi-pricing--services a").each(function(a){var t=$(this);setInterval(function(){t.addClass("on")},200*a)})},{offset:"50%"}),$('.main-nav a[href*="#"]:not([href="#"]), .main-mobile-menu .nav a[href*="#"]:not([href="#"])').click(function(a){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var t=$(this.hash);if(t=t.length?t:$("[name="+this.hash.slice(1)+"]"),n&&o.removeClass("open"),t.length)return $("html, body").animate({scrollTop:t.offset().top-50},1e3),!1}})}),$(document).ready(function(){function a(){var a=$(window).height(),t=$(window).width(),e=$(".taxi-hero--map svg");t>1600||768>a?e.css({height:"auto",width:"100%"}):1440>t&&a>885?e.css({height:"100%",width:"auto"}):e.css({height:"100%",width:"auto"})}$(window).resize(function(){a()});var t=Snap(".taxi-hero--map");Snap.load("images/mapp.svg",function(e){function n(a,t,e,o){var i=a.getTotalLength();a.attr({stroke:"#fff",strokeWidth:2,strokeOpacity:.4,fill:"none",fillOpacity:0,"stroke-dasharray":"12 6","stroke-dashoffset":i}).animate({"stroke-dashoffset":10},4e4,mina.easeinout,function(){n(a,t,e,o)}),Snap.animate(0,i,function(t){var n=a.getPointAtLength(t);e.transform("t"+parseInt(n.x-14)+","+parseInt(n.y-15)+"r0")},o,mina.easeinout)}var o=e.select("#route1").attr("d"),i=e.select("#route2").attr("d"),s=e.select("#route3").attr("d"),r=e.select("#route4").attr("d"),l=e.select("#route5").attr("d");t.append(e),a();var d=Snap("#mapsvg"),c=d.g(),f=d.g(),m=d.g(),p=d.g(),u=d.g(),h={id:"squiggle",fill:"none",strokeMiterLimit:"10",strokeDasharray:"9 9",strokeDashOffset:"988.01"},g=d.path(o).attr(h),$=d.path(i).attr(h),v=d.path(s).attr(h),x=d.path(r).attr(h),C=d.path(l).attr(h);Snap.load("images/marker.svg",function(a){var t=a.select("g");c.add(t),setTimeout(function(){n(g,t,c,35e3)},4e3)}),Snap.load("images/marker.svg",function(a){var t=a.select("g");f.add(t),n($,t,f,25e3)}),Snap.load("images/marker.svg",function(a){var t=a.select("g");m.add(t),n(v,t,m,35e3)}),Snap.load("images/marker.svg",function(a){var t=a.select("g");p.add(t),n(x,t,p,35e3)}),Snap.load("images/marker.svg",function(a){var t=a.select("g");u.add(t),n(C,t,u,55e3)})})});