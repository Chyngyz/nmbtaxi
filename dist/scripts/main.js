"use strict";$(document).ready(function(){function t(){window.addEventListener("scroll",function(t){r||(r=!0,setTimeout(a,250))},!1)}function a(){var t=e();t>=l?$(s).addClass("shrink"):$(s).removeClass("shrink"),r=!1}function e(){return window.pageYOffset||i.scrollTop}var o=!1,n=$(".main-mobile-menu");setTimeout(function(){$(".mouse").addClass("hide"),setTimeout(function(){$(".mouse").remove()},400)},6e3),$(".mouse").click(function(){return $("html, body").animate({scrollTop:$(".taxi-hero").height()+120},"slow"),!1}),$("#owl-blog").owlCarousel({navigation:!0,slideSpeed:300,paginationSpeed:400,pagination:!1,singleItem:!0,navigationText:["",""]}),$("img, a").on("dragstart",function(t){t.preventDefault()}),$(".taxi-header--burger").click(function(){n.addClass("open"),o=!0}),$(".mobile-menu-close").click(function(){n.removeClass("open"),o=!1}),$("#telnum").mask("+99999999?9999999");var i=document.documentElement,s=document.querySelector("header.taxi-header"),r=!1,l=70;t(),$(".taxi-hero--btn, .taxi-pricing--btn").magnificPopup({type:"inline",fixedContentPos:!1,fixedBgPos:!0,overflowY:"auto",closeBtnInside:!0,preloader:!1,midClick:!0,removalDelay:300,showCloseBtn:!1,mainClass:"my-mfp-slide-bottom"}),$(".taxi-clients").magnificPopup({type:"inline",fixedContentPos:!1,fixedBgPos:!0,overflowY:"auto",closeBtnInside:!0,preloader:!1,midClick:!0,removalDelay:300,showCloseBtn:!1,mainClass:"my-mfp-slide-bottom"}),$(".taxi-header--btn").magnificPopup({type:"inline",fixedContentPos:!1,fixedBgPos:!0,overflowY:"auto",closeBtnInside:!0,preloader:!1,midClick:!0,removalDelay:300,showCloseBtn:!1,mainClass:"my-mfp-slide-bottom",callbacks:{beforeOpen:function(){console.log(o),o&&n.removeClass("open")}}}),$(".screen-thumbs").magnificPopup({type:"image",closeOnContentClick:!0,mainClass:"mfp-img-mobile",image:{verticalFit:!0}}),$(".closeBtn").click(function(){$.magnificPopup.close()}),$(".taxi-about--clients").waypoint(function(){$(".taxi-about--clients").addClass("on")},{offset:"70%"}),$(".taxi-about--drivers").waypoint(function(){$(".taxi-about--android").addClass("on"),$(".taxi-about--drivers").addClass("on")},{offset:"70%"}),$(".bottom-screen-wrap").waypoint(function(){$(".taxi-about--dapp").addClass("on")},{offset:"50%"}),$(".taxi-admin--operators").waypoint(function(){$(".taxi-admin--operators").addClass("on"),setTimeout(function(){$(".taxi-about--dapp").addClass("on")},1e3),$(".taxi-admin--operators-thumbs a").each(function(t){var a=$(this);setInterval(function(){a.addClass("on")},200*t)})},{offset:"50%"}),$(".taxi-admin--managers").waypoint(function(){$(".taxi-admin--managers").addClass("on"),$("svg#svggraph").addClass("grown"),$(".taxi-download").addClass("on")},{offset:"50%"}),$(".taxi-indicators").waypoint(function(){$(".taxi-indicators--label-bg").addClass("on"),$(".taxi-indicators--label-sm").addClass("on"),$(".indicator").each(function(t){var a=$(this);setInterval(function(){a.addClass("on")},200*t)})},{offset:"50%"}),$(".taxi-knowh").waypoint(function(){$(".taxi-knowh--label").addClass("on"),$(".taxi-kn").each(function(t){var a=$(this);setInterval(function(){a.addClass("on")},200*t)})},{offset:"50%"}),$(".taxi-cooperation").waypoint(function(){$(".taxi-cooperation--title").addClass("on"),$(".taxi-cooperation--l").addClass("on"),$(".taxi-cooperation--r").addClass("on")},{offset:"50%"}),$(".taxi-pricing").waypoint(function(){$(".taxi-pricing--title").addClass("on"),$(".taxi-pricing--desc").addClass("on"),$(".taxi-pricing--services a").each(function(t){var a=$(this);setInterval(function(){a.addClass("on")},200*t)})},{offset:"50%"}),$('.main-mobile-menu .nav a[href*="#"]:not([href="#"])').click(function(t){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var a=$(this.hash);if(a=a.length?a:$("[name="+this.hash.slice(1)+"]"),o&&n.removeClass("open"),a.length)return $("html, body").animate({scrollTop:a.offset().top-50},1e3),!1}});var d,c=$("nav.main-nav"),f=c.outerHeight()+15,m=c.find("a"),p=m.map(function(){var t=$($(this).attr("href"));return t.length?t:void 0});m.click(function(t){var a=$(this).attr("href"),e="#"===a?0:$(a).offset().top-f+1;m.filter('a[href!="'+a+'"]').removeClass("active"),$("html, body").stop().animate({scrollTop:e},1e3),t.preventDefault()}),$(window).scroll(function(){var t=$(this).scrollTop()+f,a=p.map(function(){return $(this).offset().top<t?this:void 0});a=a[a.length-1];var e=a&&a.length?a[0].id:"";d!==e&&(d=e,m.removeClass("active").filter('a[href="#'+e+'"]').addClass("active"))})}),$(document).ready(function(){function t(){$(".taxi-hero--map").width($(window).width()),$(".taxi-hero--map").height($(window).height());var t=$(window).width()/a,n=$(window).height()/e,i=t>n?t:n;o>i*a&&(i=o/a),$("#mapsvg").width(i*a),$("#mapsvg").height(i*e),$(".taxi-hero--map").scrollLeft(($("#mapsvg").width()-$(window).width())/2),$(".taxi-hero--map").scrollTop(($("#mapsvg").height()-$(window).height())/2)}var a,e,o=300;a=1600,e=1e3,$(window).resize(function(){t()});var n=Snap(".taxi-hero--map");Snap.load("images/mapp.svg",function(t){function a(t,e,o,n){var i=t.getTotalLength();t.attr({stroke:"#fff",strokeWidth:2,strokeOpacity:.4,fill:"none",fillOpacity:0,"stroke-dasharray":"12 6","stroke-dashoffset":i}).animate({"stroke-dashoffset":10},4e4,mina.easeinout,function(){a(t,e,o,n)}),Snap.animate(0,i,function(a){var e=t.getPointAtLength(a);o.transform("t"+parseInt(e.x-14)+","+parseInt(e.y-15)+"r0")},n,mina.easeinout)}var e=t.select("#route1").attr("d"),o=t.select("#route2").attr("d"),i=t.select("#route3").attr("d"),s=t.select("#route4").attr("d"),r=t.select("#route5").attr("d");n.append(t),$(window).trigger("resize"),$(".taxi-hero").css("background-image","url(../images/bg-clean.jpg)");var l=Snap("#mapsvg"),d=l.g(),c=l.g(),f=l.g(),m=l.g(),p=l.g(),u={id:"squiggle",fill:"none",strokeMiterLimit:"10",strokeDasharray:"9 9",strokeDashOffset:"988.01"},h=l.path(e).attr(u),g=l.path(o).attr(u),v=l.path(i).attr(u),w=l.path(s).attr(u),x=l.path(r).attr(u);Snap.load("images/marker.svg",function(t){var e=t.select("g");d.add(e),setTimeout(function(){a(h,e,d,35e3)},4e3)}),Snap.load("images/marker.svg",function(t){var e=t.select("g");c.add(e),a(g,e,c,25e3)}),Snap.load("images/marker.svg",function(t){var e=t.select("g");f.add(e),a(v,e,f,35e3)}),Snap.load("images/marker.svg",function(t){var e=t.select("g");m.add(e),a(w,e,m,35e3)}),Snap.load("images/marker.svg",function(t){var e=t.select("g");p.add(e),a(x,e,p,55e3)})})});